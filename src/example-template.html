<!DOCTYPE html>
<html>
  <head>
  <script src="https://unpkg.com/@tailwindcss/browser@4"></script>
  </head>
  <body>
<h1 class="text-3xl font-bold text-gray-800 mb-6">Simple Database Web App</h1>
    
    <!-- 데이터 입력 폼 -->
    <form method="POST" action="<?= ScriptApp.getService().getUrl() ?>" class="space-y-4">
      <div>
        <label class="block text-gray-700">Name:</label>
        <input type="text" name="name" required class="w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
      </div>
      <div>
        <label class="block text-gray-700">Message:</label>
        <input type="text" name="message" required class="w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
      </div>
      <input type="submit" value="Save" class="bg-blue-500 text-white px-4 py-2 rounded-md hover:bg-blue-600 cursor-pointer">
    </form>

    <!-- 저장된 데이터 표시 -->
    <h2 class="text-2xl font-semibold text-gray-800 mt-8 mb-4">Saved Data</h2>
    <? var data = getData(); ?>
    <? if (data.length > 0) { ?>
      <table class="w-full border-collapse bg-white shadow-md rounded-lg overflow-hidden">
        <thead>
          <tr class="bg-gray-200">
            <th class="p-3 text-left text-gray-700">ID</th>
            <th class="p-3 text-left text-gray-700">Name</th>
            <th class="p-3 text-left text-gray-700">Message</th>
            <th class="p-3 text-left text-gray-700">Timestamp</th>
          </tr>
        </thead>
        <tbody>
          <? for (var i = 0; i < data.length; i++) { ?>
            <tr class="hover:bg-gray-50">
              <td class="p-3 border-t"><?= data[i][0] ?></td>
              <td class="p-3 border-t"><?= data[i][1] ?></td>
              <td class="p-3 border-t"><?= data[i][2] ?></td>
              <td class="p-3 border-t"><?= data[i][3] ?></td>
            </tr>
          <? } ?>
        </tbody>
      </table>
    <? } else { ?>
      <p class="text-gray-600">No data available yet.</p>
    <? } ?>
  </body>
</html>
